# SEO 文章写作工作流

基于 Claude Code 的智能 SEO 文章生成系统，通过 5 个专业 Agent 协作，支持新文章创作和旧文章优化两种模式。

## 功能特点

- **双模式支持**：新文章创作 + 旧文章优化
- **智能研究**：自动进行竞品分析、数据收集、差异化定位
- **专业写作**：根据目标受众和搜索意图定制内容
- **有立场的内容**：通过写作角度（Thesis）和作者人设（Persona）让文章有观点、有温度
- **质量保障**：多轮校对、事实核查、来源验证、人设一致性检查
- **多公司支持**：可配置不同公司的品牌风格和内链策略

## 快速开始

### Workflow 1: 新文章写作

直接告诉 Claude 你想写什么文章：

```
帮我写一篇关于 steel heat treatment 的文章
```

### Workflow 2: 旧文章优化

提供需要优化的文章 URL：

```
优化: https://example.com/your-article
```

系统会先分析原文问题，然后引导你完成配置。

### 配置选项

两种工作流都会引导你完成以下选择：
1. 选择公司（决定品牌风格和内链）
2. 选择目标受众
3. 选择文章深度
4. **选择文章类型**（决定是否需要写作角度）
5. 选择写作角度（条件性，见下表）
6. 选择作者人设（从公司预设的 3 个人设中选择）

**文章类型与角度要求：**

| 类型 | 说明 | 角度要求 |
|------|------|----------|
| 观点型 | 有明确立场，证明某个观点 | 必须选 |
| 教程型 | 教读者如何完成某事 | 可选 |
| 信息型 | 客观介绍概念/事物 | 跳过 |
| 对比型 | 比较多个选项的优劣 | 可选 |

**不熟悉话题？** 选择"⏳ 研究后再选"，让系统基于研究数据推荐角度。

然后自动完成研究、写作、校对全流程。

### 清理工作流文件

使用内置命令清理所有工作流文件：

```
/cc
```

## 目录结构

```
.
├── .claude/
│   ├── agents/              # Agent 定义 (5 个)
│   │   ├── article-importer.md  # Workflow 2: 导入分析
│   │   ├── config-creator.md
│   │   ├── web-researcher.md
│   │   ├── outline-writer.md
│   │   └── proofreader.md
│   ├── commands/            # 自定义命令
│   └── data/
│       ├── companies/       # 公司配置
│       │   ├── index.md     # 公司索引
│       │   └── [company]/   # 各公司目录
│       │       ├── about-us.md
│       │       └── internal-links.md
│       └── style/           # 写作风格指南
│           ├── STYLE_GUIDE.md
│           └── STYLE_EXAMPLES.md
├── imports/                 # Workflow 2: 旧文章分析结果
├── config/                  # 文章配置文件
├── knowledge/               # 研究资料
├── outline/                 # 文章大纲
├── drafts/                  # 文章草稿
└── output/                  # 最终输出
```

## 工作流程

### Workflow 1: 新文章写作

| 步骤 | Agent | 输入 | 输出 |
|------|-------|------|------|
| 1 | config-creator | 用户选择 | `config/[topic].json` |
| 2 | web-researcher | 配置文件 | `knowledge/[topic]-sources.md` |
| 2.5 | (主流程) | 研究结果 | 用户选择角度（仅 deferred 模式） |
| 3 | outline-writer | 研究资料 | `outline/[topic].md` + `drafts/[topic].md` |
| 4 | proofreader | 草稿 | `output/` 目录下的最终文件 |

### Workflow 2: 旧文章优化

| 步骤 | Agent | 输入 | 输出 |
|------|-------|------|------|
| 0 | article-importer | URL | `imports/[topic]-analysis.md` |
| 1 | config-creator | 分析结果 + 用户选择 | `config/[topic].json` |
| 2-4 | 同 Workflow 1 | - | - |

### Step 0: 导入分析 (仅 Workflow 2)

分析旧文章并生成诊断报告：
- 原文信息（标题、字数、结构）
- 问题诊断（严重/重要/轻微分级）
- 推荐设置（受众、深度、Thesis）

### Step 1: 配置创建

收集用户输入，生成文章配置：
- 公司选择 → 品牌风格、内链策略
- 目标受众 → 内容深度、术语选择
- 文章深度 → 字数范围、覆盖广度
- **文章类型** → 决定是否需要写作角度
- **写作角度（Thesis）** → 文章要证明的具体论点（条件性）
- **作者人设（Persona）** → 谁在写这篇文章、什么立场

**文章类型：**
| 类型 | 适用场景 | 角度要求 |
|------|----------|----------|
| 观点型 | 要证明某个观点 | 必须选 |
| 教程型 | How-to 类内容 | 可选 |
| 信息型 | What is 类内容 | 跳过 |
| 对比型 | A vs B 类内容 | 可选 |

**写作角度示例：**
| 模糊（不推荐） | 具体（推荐） |
|---------------|-------------|
| 实用指南 | 大多数热处理失败是因为忽略了预热步骤 |
| 深度分析 | 淬火介质的选择比温度控制更关键 |

**角度选择模式：**
| 情况 | 选择 |
|------|------|
| 了解话题，有想法 | 直接选择具体角度 |
| 不了解话题 | 选"⏳ 研究后再选"，研究完成后再选 |
| 信息型文章 | 自动跳过 |

**作者人设（公司预设）：**

| 人设 | 适用场景 | 特点 |
|------|----------|------|
| Persona 1: 技术专家 | 深度技术文章 | 数据驱动、务实、爱分享经验教训 |
| Persona 2: 实践导师 | 入门指南、教程 | 耐心、循序渐进、善用类比 |
| Persona 3: 行业观察者 | 趋势分析、对比 | 客观、有洞见、注重长期价值 |

每个公司可在 `about-us.md` Part 5 中自定义这些人设的具体偏见和标志性表达。

### Step 2: 深度研究

自动执行：
- 竞品文章分析
- 数据点收集
- 权威来源查找
- 差异化机会识别
- 用户声音采集
- **论点验证**：寻找支持/反对 Thesis 的证据
- **人设视角研究**：以人设的专业角度筛选资料
- **[Deferred 模式]**：生成 3 个基于数据的角度推荐

### Step 2.5: 延迟角度选择（仅当选择"研究后再选"）

如果用户在 Step 1 选择了"研究后再选"：
1. 系统展示 3 个基于研究数据的角度推荐
2. 每个推荐包含：具体论点、适合深度、数据支撑摘要
3. 用户选择后继续 Step 3

### Step 3: 大纲与写作

基于研究结果：
- 设计文章结构
- 确定差异化策略
- **以人设口吻撰写**：每段都像人设在说话
- **论点贯穿全文**：Intro 提出、Body 论证、Conclusion 强化
- 插入内链和产品提及

### Step 4: 校对与交付

最终质量把控：
- 事实核查
- 来源验证
- **论点执行检查**：Thesis 是否清晰表达（观点型必须，信息型跳过）
- **覆盖验证**：信息型文章检查内容完整性
- **人设一致性检查**：是否有"声音断裂"
- 风格一致性检查
- 生成图片建议

## 输出文件

### 最终输出 (`output/`)

| 文件 | 说明 |
|------|------|
| `[topic].md` | 最终文章 |
| `[topic]-sources.md` | 引用来源列表 |
| `[topic]-images.md` | 配图建议和说明 |

### 完成检查

| Workflow | 完成条件 |
|----------|----------|
| Workflow 1 | 7 个文件：config/, knowledge/, outline/, drafts/, output/ (x3) |
| Workflow 2 | 8 个文件：imports/ + 上述 7 个 |

## 添加新公司

1. 在 `.claude/data/companies/` 下创建公司目录
2. 添加 `about-us.md`（公司介绍、产品、品牌声音）
3. 添加 `internal-links.md`（内链策略）
4. 更新 `.claude/data/companies/index.md` 索引

## 语言规则

| 场景 | 语言 |
|------|------|
| 用户交互 | 中文 |
| 文章输出 (semrush) | 中文 |
| 文章输出 (其他公司) | English |

## 命名规范

文件名使用 **kebab-case**：
- `steel-heat-treatment`
- `pvc-conduit-fill-chart`
- `aluminum-alloy-grades`
